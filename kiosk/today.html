<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>ì˜¤ëŠ˜ì˜ ìš´ì„¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #f5f5f5, #e0e0e0);
      font-family: 'Pretendard', sans-serif;
      text-align: center;
      padding: 40px;
      animation: bgPulse 10s infinite;
    }

    @keyframes bgPulse {
      0%, 100% { background-color: #f5f5f5; }
      50% { background-color: #eaeaea; }
    }

    h1 {
      font-size: 48px;
      margin-bottom: 20px;
      color: #111;
    }

    input, button {
      font-size: 20px;
      padding: 12px;
      margin: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }

    button {
      cursor: pointer;
      background: white;
      border: 2px solid #444;
      transition: 0.2s;
    }

    button:active {
      transform: scale(0.96);
      background-color: #444;
      color: white;
    }

    #fortune-box {
      margin-top: 30px;
      padding: 20px;
      font-size: 20px;
      background-color: #fff;
      border: 2px solid #aaa;
      border-radius: 12px;
      display: none;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 3px 3px 10px rgba(0,0,0,0.1);
      white-space: pre-wrap;
      line-height: 1.4;
    }

    #buttons {
      margin-top: 20px;
    }

    #fortune-category {
      font-size: 24px;
      font-weight: bold;
      margin: 15px 0;
    }
  </style>
</head>

<body>
  <audio id="bgm" autoplay loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/16/audio_3fdbfa412b.mp3" type="audio/mpeg">
  </audio>

  <h1 data-aos="fade-down">ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸</h1>

  <div id="input-area" data-aos="fade-up">
    <input type="text" id="name" placeholder="ì´ë¦„ ë˜ëŠ” ë³„ëª… ì…ë ¥">
    <input type="date" id="birthday" max="2025-12-31">
    <br>
    <button onclick="showFortune()">ìš´ì„¸ í™•ì¸í•˜ê¸°</button>
  </div>

  <div id="fortune-box" data-aos="zoom-in"></div>

  <div id="buttons" style="display: none;">
    <button onclick="resetPage()">ğŸ” ë‹¤ì‹œí•˜ê¸°</button>
  </div>

  <button onclick="location.href='sungilKiosk.html"
    style="position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
           font-size: 22px; padding: 14px 30px; border-radius: 14px;
           border: 2px solid #444; background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
    ğŸ  í™ˆìœ¼ë¡œ
  </button>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>AOS.init();</script>
  <script>
    const categories = ["ì—°ì• ", "ê³µë¶€", "ì§‘ì¤‘ë ¥", "ìš´ë™", "ìš°ì •", "ì¸ê°„ê´€ê³„", "ìì‹ ê°", "ì»¨ë””ì…˜", "í–‰ìš´"];
    const categoryEmoji = {
      ì—°ì• : "ğŸ’–", ê³µë¶€: "ğŸ“š", ì§‘ì¤‘ë ¥: "ğŸ§ ", ìš´ë™: "ğŸƒ", ìš°ì •: "ğŸ¤",
      ì¸ê°„ê´€ê³„: "ğŸ‘¥", ìì‹ ê°: "ğŸ’ª", ì»¨ë””ì…˜: "ğŸ˜´", í–‰ìš´: "ğŸ€"
    };

    const items = ["ë…¸ë€ ì–‘ë§", "í˜•ê´‘íœ", "í–‰ìš´ì˜ ë™ì „", "ì»¤í”¼ í•œ ì”", "íŒŒë€ ê³µì±…"];
    const quotes = [
      "ì„±ê³µì€ ìš°ì—°ì´ ì•„ë‹Œ ì„ íƒì´ì—ìš”.",
      "ì˜¤ëŠ˜ë„ ë‹¹ì‹ ì€ ìµœê³ ì˜ˆìš”!",
      "ì‘ì€ ë³€í™”ê°€ í° ë¯¸ë˜ë¥¼ ë§Œë“­ë‹ˆë‹¤.",
      "í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”. ë‹¹ì‹ ì€ í•  ìˆ˜ ìˆì–´ìš”."
    ];
    const disclaimers = [
      "â˜ï¸ ìš´ì„¸ëŠ” ì¬ë¯¸ë¡œ ë³´ëŠ” ê²ƒ! ë„ˆë¬´ ë§¹ì‹ í•˜ì§€ ë§ê³  ì˜¤ëŠ˜ë„ ë©‹ì§€ê²Œ ë³´ë‚´ì„¸ìš”!",
      "ğŸ˜ ë¯¿ê±°ë‚˜ ë§ê±°ë‚˜~ ì¤‘ìš”í•œ ê±´ ë„ˆì˜ ë…¸ë ¥!",
      "ğŸ“š ì§„ì§œ ë¯¸ë˜ëŠ” ì§€ê¸ˆ ë§Œë“œëŠ” ê±°ì˜ˆìš”!"
    ];

    function showFortune() {
      const name = document.getElementById('name').value.trim();
      const birthday = document.getElementById('birthday').value;
      const box = document.getElementById("fortune-box");
      const today = new Date().toISOString().split('T')[0];

      if (!name || !birthday) {
        alert("ì´ë¦„ê³¼ ìƒë…„ì›”ì¼ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      const userKey = `fortune_${name}_${birthday}`;
      const lastUsed = localStorage.getItem(userKey);

      if (lastUsed === today) {
        alert(`${name}ë‹˜ì€ ì˜¤ëŠ˜ ì´ë¯¸ ìš´ì„¸ë¥¼ í™•ì¸í•˜ì…¨ìŠµë‹ˆë‹¤! ë‚´ì¼ ë˜ ë§Œë‚˜ìš” ğŸ˜Š`);
        return;
      }

      localStorage.setItem(userKey, today);

      const dateStr = new Date().toLocaleDateString('ko-KR', {
        year: 'numeric', month: 'long', day: 'numeric', weekday: 'long'
      });

      const category = categories[Math.floor(Math.random() * categories.length)];
      const fortune = `${categoryEmoji[category]} ${category}ì— ê´€ë ¨ëœ ì¢‹ì€ ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”!`;
      const item = items[Math.floor(Math.random() * items.length)];
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      const disclaimer = disclaimers[Math.floor(Math.random() * disclaimers.length)];

      box.innerHTML = `
        <div>
          <div style="font-size: 18px; margin-bottom: 6px;">ğŸ“… <strong>${dateStr}</strong></div>
          <div style="font-size: 18px; margin-bottom: 15px;">ğŸ‘¤ <strong>${name}ë‹˜</strong>ì˜ ì˜¤ëŠ˜ì˜ ìš´ì„¸</div>
          <div id="fortune-category">${fortune}</div>
          <div style="font-size: 18px;">ğŸ í–‰ìš´ ì•„ì´í…œ: <strong>${item}</strong></div>
          <div style="font-size: 16px; margin-top: 12px;">ğŸ“ ì˜¤ëŠ˜ì˜ í•œë§ˆë””: <em>â€œ${quote}â€</em></div>
          <hr style="margin:20px auto; border: none; border-top: 1px dashed #aaa; width: 80%;">
          <div style="font-size: 14px; color: #555;">${disclaimer}</div>
        </div>
      `;
      box.style.display = "block";
      document.getElementById("buttons").style.display = "block";
    }

    function resetPage() {
      document.getElementById("name").value = "";
      document.getElementById("birthday").value = "";
      document.getElementById("fortune-box").style.display = "none";
      document.getElementById("fortune-box").innerHTML = "";
      document.getElementById("buttons").style.display = "none";
    }
  </script>
</body>

</html>